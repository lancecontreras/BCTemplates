# BCTemplates
This template includes client, server and proxy project and a starterkit which is a solution that contains those three projects. These are the basic projects needed to create a brokered component application. 


## How to use: 

1. Download the Brokered Component Templates from visual studio gallery or update the extension if you have already downloaded it.
2. Run Visual Studio 2015 as an Administrator and create a new project.
3. In the new project dialog, try to search for “Brokered Component Solution”
4. Type in the Solution name and click ok.
5. A Setup dialog box will appear. Type in the desired names for the client, proxy and the server project then click OK.
6. It will generate a new solution with the three projects in it.
7. Build the server project (right click on the project then build).
8. Right click on the proxy project and add existing item.
9. Add the files generated by the server (dlldata.c, server_i.c, server_p.c, server.h)
10. Build the Proxy project.
11. Right click on the Client project then add a new reference.
12. Click browse and then locate the reference folder of the server, then select server.winmd (i.e. Server\Bin\Debug\Reference\Server.winmd).
13. Set the Client project as the Start up project.
14. Hit F5 to run the client project.


## Conclusion 
The new template takes care of a bunch of things such as the registration of proxy.dll, the setup of app manifest, the copying of dlls to the debug folder. If you want to know more details about the brokered component, you can check my previous post or read about the brokered component white paper.

One last tweak, this is optional by the way. We don’t want to build each project one by one everytime there’s a change in the server. To do that, we need to configure the project dependencies. In the solution explorer, right click on the solution then click Project Dependencies. We want to make sure that the Client is dependent on both Proxy and Server and the Proxy is dependent on the Server. This will give us a build order of Server->Proxy->Client.
